!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports.AMUI=e(require("jquery")):t.AMUI=e(t.jQuery)}(this,function(__WEBPACK_EXTERNAL_MODULE_2__){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),n(3),n(4),n(1),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17)},function(t,e,n){"use strict";var i=n(2);if("undefined"==typeof i)throw new Error("Amaze UI 2.x requires jQuery :-(\n\u7231\u4e0a\u4e00\u5339\u91ce\u9a6c\uff0c\u53ef\u4f60\u7684\u5bb6\u91cc\u6ca1\u6709\u8349\u539f\u2026");var r=i.AMUI||{},s=i(window),o=window.document,a=i("html");r.VERSION="{{VERSION}}",r.support={},r.support.transition=function(){var t=function(){var t=o.body||o.documentElement,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n]}();return t&&{end:t}}(),r.support.animation=function(){var t=function(){var t=o.body||o.documentElement,e={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(void 0!==t.style[n])return e[n]}();return t&&{end:t}}(),r.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,r.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,r.support.formValidation="function"==typeof document.createElement("form").checkValidity,r.utils={},r.utils.debounce=function(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,n||t.apply(r,s)},a=n&&!i;clearTimeout(i),i=setTimeout(o,e),a&&t.apply(r,s)}},r.utils.isInView=function(t,e){var n=i(t),r=!(!n.width()&&!n.height())&&"none"!==n.css("display");if(!r)return!1;var o=s.scrollLeft(),a=s.scrollTop(),l=n.offset(),u=l.left,c=l.top;return e=i.extend({topOffset:0,leftOffset:0},e),c+n.height()>=a&&c-e.topOffset<=a+s.height()&&u+n.width()>=o&&u-e.leftOffset<=o+s.width()},r.utils.parseOptions=r.utils.options=function(t){if(i.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,n={};if(e!=-1)try{n=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(r){}return n},r.utils.generateGUID=function(t){var e=t+"-"||"am-";do e+=Math.random().toString(36).substring(2,7);while(document.getElementById(e));return e},r.utils.getAbsoluteUrl=function(){var t;return function(e){return t||(t=document.createElement("a")),t.href=e,t.href}}(),r.plugin=function(t,e,n){var s=i.fn[t];n=n||{},i.fn[t]=function(s){var o,a=Array.prototype.slice.call(arguments,0),l=a.slice(1),u=this.each(function(){var u=i(this),c="amui."+t,d=n.dataOptions||"data-am-"+t,p=u.data(c),h=i.extend({},r.utils.parseOptions(u.attr(d)),"object"==typeof s&&s);(p||"destroy"!==s)&&(p||u.data(c,p=new e(this,h)),n.methodCall?n.methodCall.call(u,a,p):(n.before&&n.before.call(u,a,p),"string"==typeof s&&(o="function"==typeof p[s]?p[s].apply(p,l):p[s]),n.after&&n.after.call(u,a,p)))});return void 0===o?u:o},i.fn[t].Constructor=e,i.fn[t].noConflict=function(){return i.fn[t]=s,this},r[t]=e},i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one(r.support.transition.end,function(){e=!0});var s=function(){e||i(n).trigger(r.support.transition.end),n.transitionEndTimmer=void 0};return this.transitionEndTimmer=setTimeout(s,t),this},i.fn.redraw=function(){return this.each(function(){this.offsetHeight})},i.fn.transitionEnd=function(t){function e(r){t.call(this,r),n&&i.off(n,e)}var n=r.support.transition.end,i=this;return t&&n&&i.on(n,e),this},i.fn.removeClassRegEx=function(){return this.each(function(t){var e=i(this).attr("class");if(!e||!t)return!1;var n=[];e=e.split(" ");for(var r=0,s=e.length;r<s;r++)e[r].match(t)||n.push(e[r]);i(this).attr("class",n.join(" "))})},i.fn.alterClass=function(t,e){var n=this;if(t.indexOf("*")===-1)return n.removeClass(t),e?n.addClass(e):n;var r=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return n.each(function(t,e){for(var n=" "+e.className+" ";r.test(n);)n=n.replace(r," ");e.className=i.trim(n)}),e?n.addClass(e):n},r.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),r.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}(),r.utils.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=i('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');i(document.body).append(t);var e=t[0].offsetWidth-t[0].clientWidth;return t.remove(),e},r.utils.imageLoader=function(t,e){function n(){e(t[0])}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?n():i.call(t)):void n()},r.template=function(t,e){var n=r.template;return n.cache[t]||(n.cache[t]=function(){var e=t,i=/^[\w\-]+$/.test(t)?n.get(t):(e="template(string)",t),r=1,s=("try { "+(n.variable?"var "+n.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+i.replace(/<%/g,"\x11").replace(/%>/g,"\x13").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++r+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(n.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+e+"' + ' line ' + this.line + ')'; } //@ sourceURL="+e+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(s),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},l=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return a[t]})};return function(t){return o.call(n.context={escapeHTML:l,line:1,ret:"",stash:t})}}()),e?n.cache[t](e):n.cache[t]},r.template.cache={},r.template.get=function(t){if(t){var e=document.getElementById(t);return e&&e.innerHTML||""}},r.DOMWatchers=[],r.DOMReady=!1,r.ready=function(t){r.DOMWatchers.push(t),r.DOMReady&&t(document)},r.DOMObserve=function(t,e,n){var s=r.support.mutationobserver;s&&(e=i.isPlainObject(e)?e:{childList:!0,subtree:!0},n="function"==typeof n&&n||function(){},i(t).each(function(){var t=this,o=i(t);if(!o.data("am.observer"))try{var a=new s(r.utils.debounce(function(e,i){n.call(t,e,i),o.trigger("changed.dom.amui")},50));a.observe(t,e),o.data("am.observer",a)}catch(l){}}))},i.fn.DOMObserve=function(t,e){return this.each(function(){r.DOMObserve(this,t,e)})},r.support.touch&&a.addClass("am-touch"),i(document).on("changed.dom.amui",function(t){var e=t.target;i.each(r.DOMWatchers,function(t,n){n(e)})}),i(function(){var t=i(document.body);r.DOMReady=!0,i.each(r.DOMWatchers,function(t,e){e(document)}),r.DOMObserve("[data-am-observe]"),a.removeClass("no-js").addClass("js"),r.support.animation&&a.addClass("cssanimations"),window.navigator.standalone&&a.addClass("am-standalone"),i(".am-topbar-fixed-top").length&&t.addClass("am-with-topbar-fixed-top"),i(".am-topbar-fixed-bottom").length&&t.addClass("am-with-topbar-fixed-bottom");var e=i(".am-layout");e.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),e.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),i("[data-am-widget]").each(function(){var t=i(this);0===t.parents(".am-layout").length&&t.addClass("am-no-layout")})}),t.exports=r},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(module,exports){function isArray(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length}function copyTo(t,e,n){for(var i in t)n&&n.exists(i)||(e[i]=t[i])}Array.prototype.unpush=function(){this.length=this.length-1},Array.prototype.indexOf=function(t,e){var n=this.length;e?e<0&&(e=Math.max(0,n+e)):e=0;for(var i=e;i<n;i++)if(this[i]==t)return i;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&this.splice(e,1),e>-1},Array.prototype.removeAt=function(t){return this.splice(t,1)},Array.prototype.removeReItem=function(t){for(var e={},n=this.length,i=0;i<n;i++)"undefined"==typeof e[this[i]]&&this[i]!=t&&(e[this[i]]=1);this.length=0;for(var r in e)this[this.length]=r;return this},Array.prototype.clearRepeat=function(){for(var t={},e=this.length,n=0;n<e;n++)"undefined"==typeof t[this[n]]&&(t[this[n]]=this[n]);this.length=0;for(var i in t)this[this.length]=i;return this},Array.prototype.hasRepeat=function(){for(var t={},e=this.length,n=0;n<e;n++){if("undefined"!=typeof t[this[n]])return!0;t[this[n]]=this[n]}return!1},Array.prototype.exists=function(t){return this.indexOf(t)!=-1},Array.prototype.any=function(t){for(var e=0;e<this.length;e++)if(t(this[e]))return!0;return!1},Array.prototype.first=function(t){for(var e=0;e<this.length;e++){var n=t(this[e]);if(n)return n}return null},Array.prototype.getMax=function(){for(var t=this.length,e=1,n=this[0];e<t;e++)n<this[e]&&(n=this[e]);return n},Array.prototype.getMin=function(){for(var t=this.length,e=1,n=this[0];e<t;e++)n>this[e]&&(n=this[e]);return n},Array.prototype.clear=function(){this.length=0},Array.prototype.addArray=function(t){for(var e=t.length,n=0;n<e;n++)this.push(t[n])},Array.prototype.insertAt=function(t,e){this.splice(t,0,e)},Array.prototype.insertBefore=function(t,e){var n=this.indexOf(t);n==-1?this.push(e):this.splice(n,0,e)},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,i;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),i=0;i<s;){var o;i in r&&(o=r[i],t.call(n,o,i,r)),i++}}),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.contains=function(t){return this.indexOf(t)>-1},String.prototype.startWith=function(t){var e=new RegExp("^"+t);return e.test(this)},String.prototype.endWith=function(t){var e=new RegExp(t+"$");return e.test(this)},String.prototype.isDate=function(){var regExp=this.match(/^(\d{1,4})(-)(\d{1,2})\2(\d{1,2})$/);if(null==regExp)return!1;var date=new Date(regExp[1],regExp[3]-1,regExp[4]);return date.getFullYear()==regExp[1]&&eval(date.getMonth()+1)==regExp[3]&&date.getDate()==regExp[4]},String.prototype.toDate=function(){var t=this.match(/^(\d{1,4})(-)(\d{1,2})\2(\d{1,2})\s(\d{1,2})(:)(\d{1,2})\6(\d{1,2})$/);if(null==t)return!1;var e=new Date(t[1],t[3]-1,t[4]);return e},String.prototype.HtmlEncode=function(){return this.replace(/&/g,"&amp").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},String.prototype.toHtml=function(){var t=new RegExp("((?:http|https|ftp|mms|rtsp)://(&(?=amp;)|[A-Za-z0-9./=?%_~@&#:;+-])+)","ig");return this.replace(t,"<a href='$1' target='_blank'>$1</a>")},String.prototype.ChLen=function(){return this.replace(/[^\x00-\xff]/g,"aa").length},String.prototype.IsChinese=function(){var t=/^[\u4E00-\u9FA5]*$/;return t.test(this)},String.prototype.toMoney=function(t){var e=parseFloat(this)<0?"-":"",n=Math.abs(parseFloat(this)).toString();if(/[^0-9\.]/.test(n))return"\u65e0\u6548\u7684\u6570\u503c";n=n.replace(/^(\d*)$/,"$1."),n=(n+"00").replace(/(\d*\.\d\d)\d*/,"$1"),n=n.replace(".",",");for(var i=/(\d)(\d{3},)/;i.test(n);)n=n.replace(i,"$1,$2");return n=n.replace(/,(\d\d)$/,".$1"),void 0==t&&(t="\uffe5"),t+e+n.replace(/^\./,"0.")},Date.prototype.toFormat=function(t){t||(t="yyyy/MM/dd HH:mm:ss");var e=this.getFullYear(),n=parseInt(this.getMonth()+1,10),i=this.getDate(),r=this.getHours()>9?this.getHours():"0"+this.getHours(),s=this.getMinutes()>9?this.getMinutes():"0"+this.getMinutes(),o=this.getSeconds()>9?this.getSeconds():"0"+this.getSeconds();return t.replace(/yyyy/g,e).replace(/MM/g,n).replace(/dd/g,i).replace(/HH/g,r).replace(/mm/g,s).replace(/ss/g,o)},Date.prototype.addDays=function(t){var e=this.getTime()+24*t*60*60*1e3,n=new Date;return n.setTime(e),n},Date.prototype.addMinutes=function(t){var e=this.getTime()+60*t*1e3,n=new Date;return n.setTime(e),n},Date.prototype.addSeconds=function(t){var t=this.getTime()+1e3*t,e=new Date;return e.setTime(t),e},HTMLElement.prototype.fireEvent=function(t){var e=document.createEvent("HTMLEvents");e.initEvent(t,!1,!1),this.dispatchEvent(e)}},function(t,e,n){"use strict";function i(t,e,n){return setTimeout(l(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function o(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}function a(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ct(i,n)}function l(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==gt?t.apply(e?e[0]||void 0:void 0,e):t}function c(t,e){return void 0===t?e:t}function d(t,e,n){s(g(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(g(e),function(e){t.removeEventListener(e,n,!1)})}function h(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function f(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function v(t){return Array.prototype.slice.call(t,0)}function y(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];m(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),s=0;s<ht.length;){if(n=ht[s],i=n?n+r:e,i in t)return i;s++}}function b(){return Ct++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&n.handler(e)},this.init()}function $(t){var e,n=t.options.inputClass;return new(e=n?n:xt?R:Et?V:$t?L:M)(t,x)}function x(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&Dt&&i-r===0,o=e&(kt|Pt)&&i-r===0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,E(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function E(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=T(e)),r>1&&!n.firstMultiple?n.firstMultiple=T(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,l=e.center=A(i);e.timeStamp=yt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=k(a,l),e.distance=I(a,l),O(n,e),e.offsetDirection=D(e.deltaX,e.deltaY);var u=S(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=vt(u.x)>vt(u.y)?u.x:u.y,e.scale=o?z(o.pointers,i):1,e.rotation=o?P(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,F(n,e);var c=t.element;h(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function O(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Dt&&s.eventType!==kt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function F(t,e){var n,i,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(e.eventType!=Pt&&(a>St||void 0===o.velocity)){var l=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,c=S(a,l,u);i=c.x,r=c.y,n=vt(c.x)>vt(c.y)?c.x:c.y,s=D(l,u),t.lastInterval=e}else n=o.velocity,i=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=s}function T(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:yt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:mt(n/e),y:mt(i/e)}}function S(t,e,n){return{x:e/t||0,y:n/t||0}}function D(t,e){return t===e?zt:vt(t)>=vt(e)?t<0?Mt:Rt:e<0?qt:Nt}function I(t,e,n){n||(n=Wt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function k(t,e,n){n||(n=Wt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function P(t,e){return k(e[1],e[0],Ht)+k(t[1],t[0],Ht)}function z(t,e){return I(e[0],e[1],Ht)/I(t[0],t[1],Ht)}function M(){this.evEl=Bt,this.evWin=Yt,this.pressed=!1,_.apply(this,arguments)}function R(){this.evEl=Gt,this.evWin=Qt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Jt,this.evWin=te,this.started=!1,_.apply(this,arguments)}function N(t,e){var n=v(t.touches),i=v(t.changedTouches);return e&(kt|Pt)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function V(){this.evTarget=ne,this.targetIds={},_.apply(this,arguments)}function j(t,e){var n=v(t.touches),i=this.targetIds;if(e&(Dt|It)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=v(t.changedTouches),a=[],l=this.target;if(s=n.filter(function(t){return h(t.target,l)}),e===Dt)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),e&(kt|Pt)&&delete i[o[r].identifier],r++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}function L(){_.apply(this,arguments);var t=l(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new M(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function W(t,e){t&Dt?(this.primaryTouch=e.changedPointers[0].identifier,H.call(this,e)):t&(kt|Pt)&&H.call(this,e)}function H(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,ie)}}function U(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(s<=re&&o<=re)return!0}return!1}function B(t,e){this.manager=t,this.set(e)}function Y(t){if(f(t,ce))return ce;var e=f(t,de),n=f(t,pe);return e&&n?ce:e||n?e?de:pe:f(t,ue)?ue:le}function K(){if(!oe)return!1;var t={},e=window.CSS&&window.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||window.CSS.supports("touch-action",n)}),t}function X(t){this.options=ct({},this.defaults,t||{}),this.id=b(),this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=fe,this.simultaneous={},this.requireFail=[]}function G(t){return t&we?"cancel":t&ve?"end":t&me?"move":t&ge?"start":""}function Q(t){return t==Nt?"down":t==qt?"up":t==Mt?"left":t==Rt?"right":""}function Z(t,e){var n=e.manager;return n?n.get(t):t}function J(){X.apply(this,arguments)}function tt(){J.apply(this,arguments),this.pX=null,this.pY=null}function et(){J.apply(this,arguments)}function nt(){X.apply(this,arguments),this._timer=null,this._input=null}function it(){J.apply(this,arguments)}function rt(){J.apply(this,arguments)}function st(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ot(t,e){return e=e||{},e.recognizers=c(e.recognizers,ot.defaults.preset),new at(t,e)}function at(t,e){this.options=ct({},ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=$(this),this.touchAction=new B(this,this.options.touchAction),lt(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var n=t.element;if(n.style){var i;s(t.options.cssProps,function(r,s){i=w(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function ut(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ct,dt=n(2),pt=n(1),ht=["","webkit","Moz","MS","ms","o"],ft=document.createElement("div"),gt="function",mt=Math.round,vt=Math.abs,yt=Date.now;ct="function"!=typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var wt=o(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),bt=o(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Ct=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,$t="ontouchstart"in window,xt=void 0!==w(window,"PointerEvent"),Et=$t&&_t.test(navigator.userAgent),Ot="touch",Ft="pen",Tt="mouse",At="kinect",St=25,Dt=1,It=2,kt=4,Pt=8,zt=1,Mt=2,Rt=4,qt=8,Nt=16,Vt=Mt|Rt,jt=qt|Nt,Lt=Vt|jt,Wt=["x","y"],Ht=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var Ut={mousedown:Dt,mousemove:It,mouseup:kt},Bt="mousedown",Yt="mousemove mouseup";a(M,_,{handler:function(t){var e=Ut[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=kt),this.pressed&&(e&kt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Tt,srcEvent:t}))}});var Kt={pointerdown:Dt,pointermove:It,pointerup:kt,pointercancel:Pt,pointerout:Pt},Xt={2:Ot,3:Ft,4:Tt,5:At},Gt="pointerdown",Qt="pointermove pointerup pointercancel";window.MSPointerEvent&&!window.PointerEvent&&(Gt="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),a(R,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Kt[i],s=Xt[t.pointerType]||t.pointerType,o=s==Ot,a=m(e,t.pointerId,"pointerId");r&Dt&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(kt|Pt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var Zt={touchstart:Dt,touchmove:It,touchend:kt,touchcancel:Pt},Jt="touchstart",te="touchstart touchmove touchend touchcancel";a(q,_,{handler:function(t){var e=Zt[t.type];if(e===Dt&&(this.started=!0),this.started){var n=N.call(this,t,e);e&(kt|Pt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ot,srcEvent:t})}}});var ee={touchstart:Dt,touchmove:It,touchend:kt,touchcancel:Pt},ne="touchstart touchmove touchend touchcancel";a(V,_,{handler:function(t){var e=ee[t.type],n=j.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ot,srcEvent:t})}});var ie=2500,re=25;a(L,_,{handler:function(t,e,n){var i=n.pointerType==Ot,r=n.pointerType==Tt;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)W.call(this,e,n);else if(r&&U.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var se=w(ft.style,"touchAction"),oe=void 0!==se,ae="compute",le="auto",ue="manipulation",ce="none",de="pan-x",pe="pan-y",he=K();B.prototype={set:function(t){t==ae&&(t=this.compute()),oe&&this.manager.element.style&&he[t]&&(this.manager.element.style[se]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=f(i,ce)&&!he[ce],s=f(i,pe)&&!he[pe],o=f(i,de)&&!he[de];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}return o&&s?void 0:r||s&&n&Vt||o&&n&jt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var fe=1,ge=2,me=4,ve=8,ye=ve,we=16,be=32;X.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),m(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=m(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<ve&&e(n.options.event+G(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ve&&e(n.options.event+G(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|fe)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);return u(this.options.enable,[this,e])?(this.state&(ye|we|be)&&(this.state=fe),this.state=this.process(e),void(this.state&(ge|me|ve|we)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},a(J,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ge|me),r=this.attrTest(t);return i&&(n&Pt||!r)?e|we:i||r?n&kt?e|ve:e&ge?e|me:ge:be}}),a(tt,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Lt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Vt&&e.push(pe),t&jt&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Vt?(r=0===s?zt:s<0?Mt:Rt,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?zt:o<0?qt:Nt,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&ge||!(this.state&ge)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),a(et,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ge)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),a(nt,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[le]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(kt|Pt)&&!s)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=i(function(){this.state=ye,this.tryEmit()},e.time,this);else if(t.eventType&kt)return ye;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ye&&(t&&t.eventType&kt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),a(it,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ge)}}),a(rt,J,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Vt|jt,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Vt|jt)?e=t.overallVelocity:n&Vt?e=t.overallVelocityX:n&jt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&kt},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),a(st,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ue]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(r&&s&&n){if(t.eventType!=kt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||I(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=ye,this.tryEmit()},e.interval,this),ge):ye}return be},failTimeout:function(){return this._timer=i(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ye&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ot.VERSION="2.0.7",ot.defaults={domEvents:!1,touchAction:ae,enable:!0,inputTarget:null,inputClass:null,preset:[[it,{enable:!1}],[et,{enable:!1},["rotate"]],[rt,{direction:Vt}],[tt,{direction:Vt},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ce=1,_e=2;at.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?_e:Ce},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ye)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],e.stopped===_e||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ge|me|ve)&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof X)return t;
for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=m(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return s(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return s(g(t),function(t){e?n[t]&&n[t].splice(m(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ut(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(ot,{INPUT_START:Dt,INPUT_MOVE:It,INPUT_END:kt,INPUT_CANCEL:Pt,STATE_POSSIBLE:fe,STATE_BEGAN:ge,STATE_CHANGED:me,STATE_ENDED:ve,STATE_RECOGNIZED:ye,STATE_CANCELLED:we,STATE_FAILED:be,DIRECTION_NONE:zt,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:Rt,DIRECTION_UP:qt,DIRECTION_DOWN:Nt,DIRECTION_HORIZONTAL:Vt,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Lt,Manager:at,Input:_,TouchAction:B,TouchInput:V,MouseInput:M,PointerEventInput:R,TouchMouseInput:L,SingleTouchInput:q,Recognizer:X,AttrRecognizer:J,Tap:st,Pan:tt,Swipe:rt,Pinch:et,Rotate:it,Press:nt,on:d,off:p,each:s,merge:bt,extend:wt,assign:ct,inherit:a,bindFn:l,prefixed:w}),function(t,e){function n(n,i){var r=t(n);r.data("hammer")||r.data("hammer",new e(r[0],i))}t.fn.hammer=function(t){return this.each(function(){n(this,t)})},e.Manager.prototype.emit=function(e){return function(n,i){e.call(this,n,i),t(this.element).trigger({type:n,gesture:i})}}(e.Manager.prototype.emit)}(dt,ot),t.exports=pt.Hammer=ot},function(t,e,n){"use strict";function i(t){return this.each(function(){var e=r(this),n=e.data("amui.collapse"),i=r.extend({},o.DEFAULTS,s.utils.options(e.attr("data-am-collapse")),"object"==typeof t&&t);!n&&i.toggle&&"open"===t&&(t=!t),n||e.data("amui.collapse",n=new o(this,i)),"string"==typeof t&&n[t]()})}var r=n(2),s=n(1),o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=r(this.options.parent)),this.options.toggle&&this.toggle()};o.DEFAULTS={toggle:!0},o.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("am-in")){var t=r.Event("open.collapse.amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .am-panel > .am-in");if(e&&e.length){var n=e.data("amui.collapse");if(n&&n.transitioning)return;i.call(e,"close"),n||e.data("amui.collapse",null)}this.$element.removeClass("am-collapse").addClass("am-collapsing").height(0),this.transitioning=1;var o=function(){this.$element.removeClass("am-collapsing").addClass("am-collapse am-in").height("").trigger("opened.collapse.amui"),this.transitioning=0};if(!s.support.transition)return o.call(this);var a=this.$element[0].scrollHeight;this.$element.one(s.support.transition.end,r.proxy(o,this)).emulateTransitionEnd(300).css({height:a})}}},o.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("am-in")){var t=r.Event("close.collapse.amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.$element.height(this.$element.height()).redraw(),this.$element.addClass("am-collapsing").removeClass("am-collapse am-in"),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.trigger("closed.collapse.amui").removeClass("am-collapsing").addClass("am-collapse")};return s.support.transition?void this.$element.height(0).one(s.support.transition.end,r.proxy(e,this)).emulateTransitionEnd(300):e.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("am-in")?"close":"open"]()},r.fn.collapse=i,r(document).on("click.collapse.amui.data-api","[data-am-collapse]",function(t){var e,n=r(this),o=s.utils.options(n.attr("data-am-collapse")),a=o.target||t.preventDefault()||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),l=r(a),u=l.data("amui.collapse"),c=u?"toggle":o,d=o.parent,p=d&&r(d);u&&u.transitioning||(p&&p.find("[data-am-collapse]").not(n).addClass("am-collapsed"),n[l.hasClass("am-in")?"addClass":"removeClass"]("am-collapsed")),i.call(l,c)}),t.exports=s.collapse=o},function(t,e,n){"use strict";var i=n(2),r=n(1),s=r.support.animation,o=function(t,e){this.options=i.extend({},o.DEFAULTS,e),e=this.options,this.$element=i(t),this.$toggle=this.$element.find(e.selector.toggle),this.$dropdown=this.$element.find(e.selector.dropdown),this.$boundary=e.boundary===window?i(window):this.$element.closest(e.boundary),this.$justify=e.justify&&i(e.justify).length&&i(e.justify)||void 0,!this.$boundary.length&&(this.$boundary=i(window)),this.active=!!this.$element.hasClass("am-active"),this.animating=null,this.events()};o.DEFAULTS={animation:"am-animation-slide-top-fixed",boundary:window,justify:void 0,selector:{dropdown:".am-dropdown-content",toggle:".am-dropdown-toggle"},trigger:"click"},o.prototype.toggle=function(){this.clear(),this.animating||this[this.active?"close":"open"]()},o.prototype.open=function(t){var e=this.$toggle,n=this.$element,r=this.$dropdown;if(!e.is(".am-disabled, :disabled")&&!this.active){n.trigger("open.dropdown.amui").addClass("am-active"),e.trigger("focus"),this.checkDimensions(t);var o=i.proxy(function(){n.trigger("opened.dropdown.amui"),this.active=!0,this.animating=0},this);s?(this.animating=1,r.addClass(this.options.animation).one(s.end+".open.dropdown.amui",i.proxy(function(){o(),r.removeClass(this.options.animation)},this))):o()}},o.prototype.close=function(){if(this.active){var t="am-dropdown-animation",e=this.$element,n=this.$dropdown;e.trigger("close.dropdown.amui");var r=i.proxy(function(){e.removeClass("am-active").trigger("closed.dropdown.amui"),this.active=!1,this.animating=0,this.$toggle.blur()},this);s?(n.removeClass(this.options.animation),n.addClass(t),this.animating=1,n.one(s.end+".close.dropdown.amui",function(){n.removeClass(t),r()})):r()}},o.prototype.enable=function(){this.$toggle.prop("disabled",!1)},o.prototype.disable=function(){this.$toggle.prop("disabled",!0)},o.prototype.checkDimensions=function(t){if(this.$dropdown.length){var e=this.$dropdown;t&&t.offset&&e.offset(t.offset);var n=e.offset(),r=e.outerWidth(),s=this.$boundary.width(),o=i.isWindow(this.boundary)&&this.$boundary.offset()?this.$boundary.offset().left:0;this.$justify&&e.css({"min-width":this.$justify.css("width")}),r+(n.left-o)>s&&this.$element.addClass("am-dropdown-flip")}},o.prototype.clear=function(){i("[data-am-dropdown]").not(this.$element).each(function(){var t=i(this).data("amui.dropdown");t&&t.close()})},o.prototype.events=function(){var t="dropdown.amui",e=this.$toggle;e.on("click."+t,i.proxy(function(t){t.preventDefault(),this.toggle()},this)),i(document).on("keydown.dropdown.amui",i.proxy(function(t){27===t.keyCode&&this.active&&this.close()},this)).on("click.outer.dropdown.amui",i.proxy(function(t){!this.active||this.$element[0]!==t.target&&this.$element.find(t.target).length||this.close()},this))},r.plugin("dropdown",o),r.ready(function(t){i("[data-am-dropdown]",t).dropdown()}),i(document).on("click.dropdown.amui.data-api",".am-dropdown form",function(t){t.stopPropagation()}),t.exports=r.dropdown=o},function(t,e,n){"use strict";var i=n(2),r=n(1),s=i(window),o=function(t,e){this.options=i.extend({},o.DEFAULTS,e),this.$element=i(t),this.active=null,this.$popover=this.options.target&&i(this.options.target)||null,this.init(),this._bindEvents()};o.DEFAULTS={theme:null,trigger:"click",content:"",open:!1,target:null,tpl:'<div class="am-popover"><div class="am-popover-inner"></div><div class="am-popover-caret"></div></div>'},o.prototype.init=function(){function t(){n.sizePopover()}var e,n=this,s=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),e=this.$popover,e.appendTo(i("body")),this.sizePopover(),s.on("open.popover.amui",function(){i(window).on("resize.popover.amui",r.utils.debounce(t,50))}),s.on("close.popover.amui",function(){i(window).off("resize.popover.amui",t)}),this.options.open&&this.open()},o.prototype.sizePopover=function(){var t=this.$element,e=this.$popover;if(e&&e.length){var n=e.outerWidth(),i=e.outerHeight(),r=e.find(".am-popover-caret"),o=r.outerWidth()/2||8,a=i+8,l=t.outerWidth(),u=t.outerHeight(),c=t.offset(),d=t[0].getBoundingClientRect(),p=s.height(),h=s.width(),f=0,g=0,m=0,v=2,y="top";e.css({left:"",top:""}).removeClass("am-popover-left am-popover-right am-popover-top am-popover-bottom"),a-v<d.top+v?f=c.top-a-v:a<p-d.top-d.height?(y="bottom",f=c.top+u+o+v):(y="middle",f=u/2+c.top-i/2),"top"===y||"bottom"===y?(g=l/2+c.left-n/2,m=g,g<5&&(g=5),g+n>h&&(g=h-n-20),"top"===y&&e.addClass("am-popover-top"),"bottom"===y&&e.addClass("am-popover-bottom"),m-=g):"middle"===y&&(g=c.left-n-o,e.addClass("am-popover-left"),g<5&&(g=c.left+l+o,e.removeClass("am-popover-left").addClass("am-popover-right")),g+n>h&&(g=h-n-5,e.removeClass("am-popover-left").addClass("am-popover-right"))),e.css({top:f+"px",left:g+"px"})}},o.prototype.toggle=function(){return this[this.active?"close":"open"]()},o.prototype.open=function(){var t=this.$popover;this.$element.trigger("open.popover.amui"),this.sizePopover(),t.show().addClass("am-active"),this.active=!0},o.prototype.close=function(){var t=this.$popover;this.$element.trigger("close.popover.amui"),t.removeClass("am-active").trigger("closed.popover.amui").hide(),this.active=!1},o.prototype.getPopover=function(){var t=r.utils.generateGUID("am-popover"),e=[];return this.options.theme&&i.each(this.options.theme.split(" "),function(t,n){e.push("am-popover-"+i.trim(n))}),i(this.options.tpl).attr("id",t).addClass(e.join(" "))},o.prototype.setContent=function(t){t=t||this.options.content,this.$popover&&this.$popover.find(".am-popover-inner").empty().html(t)},o.prototype._bindEvents=function(){for(var t="popover.amui",e=this.options.trigger.split(" "),n=e.length;n--;){var r=e[n];if("click"===r)this.$element.on("click."+t,i.proxy(this.toggle,this));else{var s="hover"==r?"mouseenter":"focusin",o="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+t,i.proxy(this.open,this)),this.$element.on(o+"."+t,i.proxy(this.close,this))}}},o.prototype.destroy=function(){this.$element.off(".popover.amui").removeData("amui.popover"),this.$popover.remove()},r.plugin("popover",o),r.ready(function(t){i("[data-am-popover]",t).popover()}),t.exports=o},function(t,e,n){"use strict";var i=n(1),r=function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,i){var r;return r="translate3d"===u.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},r.transition="all "+n+"ms "+i,r}function i(t,e){var n="string"==typeof t?t:o(t);return n.indexOf(" "+e+" ")>=0}function r(t,e){var n=o(t),r=n+e;i(n,e)||(t.className=r.substring(1))}function s(t,e){var n,r=o(t);i(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.2.0";var u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};l.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(u[e]=n);return this},l.status=null,l.set=function(e){var i=l.isStarted();e=t(e,u.minimum,1),l.status=1===e?null:e;var r=l.render(!i),s=r.querySelector(u.barSelector),o=u.speed,a=u.easing;return r.offsetWidth,c(function(t){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),d(s,n(e,o,a)),1===e?(d(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){d(r,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},o)},o)):setTimeout(t,o)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},u.trickleSpeed)};return u.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var n=l.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var t=0,e=0;l.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&l.start(),t++,e++,n.always(function(){e--,0===e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var i,s=n.querySelector(u.barSelector),o=t?"-100":e(l.status||0),c=document.querySelector(u.parent);return d(s,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),u.showSpinner||(i=n.querySelector(u.spinnerSelector),i&&a(i)),c!=document.body&&r(c,"nprogress-custom-parent"),c.appendChild(n),n},l.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var c=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),d=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,i=r.length,s=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(n=r[i]+s,n in e)return n;return t}function n(n){return n=t(n),s[n]||(s[n]=e(n))}function i(t,e,i){e=n(e),t.style[e]=i}var r=["Webkit","O","Moz","ms"],s={};return function(t,e){var n,r,s=arguments;if(2==s.length)for(n in e)r=e[n],void 0!==r&&e.hasOwnProperty(n)&&i(t,n,r);else i(t,s[1],s[2])}}();return l}();t.exports=i.progress=r},function(t,e,n){"use strict";function i(t){var e,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=r(this),o=i.is(".am-tabs")&&i||i.closest(".am-tabs"),a=o.data("amui.tabs"),l=r.extend({},s.utils.parseOptions(i.data("amTabs")),r.isPlainObject(t)&&t);a||o.data("amui.tabs",a=new u(o[0],l)),"string"==typeof t&&("open"===t&&i.is(".am-tabs-nav a")?a.open(i):e="function"==typeof a[t]?a[t].apply(a,n):a[t])}),void 0===e?this:e}var r=n(2),s=n(1),o=n(4),a=s.support.transition,l=s.support.animation,u=function(t,e){this.$element=r(t),this.options=r.extend({},u.DEFAULTS,e||{}),this.transitioning=this.activeIndex=null,this.refresh(),this.init()};u.DEFAULTS={selector:{nav:"> .am-tabs-nav",content:"> .am-tabs-bd",panel:"> .am-tab-panel"},activeClass:"am-active"},u.prototype.refresh=function(){var t=this.options.selector;this.$tabNav=this.$element.find(t.nav),this.$navs=this.$tabNav.find("a"),this.$content=this.$element.find(t.content),this.$tabPanels=this.$content.find(t.panel);var e=this.$tabNav.find("> ."+this.options.activeClass);1!==e.length?this.open(0):this.activeIndex=this.$navs.index(e.children("a"))},u.prototype.init=function(){var t=this,e=this.options;if(this.$element.on("click.tabs.amui",e.selector.nav+" a",function(e){e.preventDefault(),t.open(r(this))}),!e.noSwipe){if(!this.$content.length)return this;var n=new o.Manager(this.$content[0]),i=new o.Swipe({direction:o.DIRECTION_HORIZONTAL});n.add(i),n.on("swipeleft",s.utils.debounce(function(e){e.preventDefault(),t.goTo("next")},100)),n.on("swiperight",s.utils.debounce(function(e){e.preventDefault(),t.goTo("prev")},100)),this._hammer=n}},u.prototype.open=function(t){var e=this.options.activeClass,n="number"==typeof t?t:this.$navs.index(r(t));if(t="number"==typeof t?this.$navs.eq(n):r(t),t&&t.length&&!this.transitioning&&!t.parent("li").hasClass(e)){var i=this.$tabNav,s=t.attr("href"),o=/^#.+$/,a=o.test(s)&&this.$content.find(s)||this.$tabPanels.eq(n),l=i.find("."+e+" a")[0],u=r.Event("open.tabs.amui",{relatedTarget:l});t.trigger(u),u.isDefaultPrevented()||(this.activate(t.closest("li"),i),this.activate(a,this.$content,function(){t.trigger({type:"opened.tabs.amui",relatedTarget:l})}),this.activeIndex=n)}},u.prototype.activate=function(t,e,n){this.transitioning=!0;var i=this.options.activeClass,s=e.find("> ."+i),o=n&&a&&!!s.length;s.removeClass(i+" am-in"),t.addClass(i),o?(t.redraw(),t.addClass("am-in")):t.removeClass("am-fade");var l=r.proxy(function(){n&&n(),this.transitioning=!1},this);o&&!this.$content.is(".am-tabs-bd-ofv")?s.one(a.end,l):l()},u.prototype.goTo=function(t){var e=this.activeIndex,n="next"===t,i=n?"am-animation-right-spring":"am-animation-left-spring";if(n&&e+1>=this.$navs.length||!n&&0===e){var r=this.$tabPanels.eq(e);l&&r.addClass(i).on(l.end,function(){r.removeClass(i)})}else this.open(n?e+1:e-1)},u.prototype.destroy=function(){this.$element.off(".tabs.amui"),o.off(this.$content[0],"swipeleft swiperight"),this._hammer&&this._hammer.destroy(),r.removeData(this.$element,"amui.tabs")},r.fn.tabs=i,s.ready(function(t){r("[data-am-tabs]",t).tabs()}),r(document).on("click.tabs.amui.data-api","[data-am-tabs] .am-tabs-nav a",function(t){t.preventDefault(),i.call(r(this),"open")}),t.exports=s.tabs=u},function(t,e,n){"use strict";var i=n(1),r=function(){var t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,s={};i<r;i++)if(t=n[i],t&&t[1]in document){for(i=0,e=t.length;i<e;i++)s[n[0][i]]=t[i];return s}return!1}(),n={request:function(n){var i=e.requestFullscreen;n=n||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?n[i]():n[i](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:e};return!!e&&(Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),n.VERSION="3.0.0",n)}();t.exports=i.fullscreen=r},function(t,e,n){(function(e){"use strict";function i(){try{return l in a&&a[l]}catch(t){return!1}}var r,s=n(1),o={},a="undefined"!=typeof window?window:e,l="localStorage";o.disabled=!1,o.version="1.3.20",o.set=function(t,e){},o.get=function(t,e){},o.has=function(t){return void 0!==o.get(t)},o.remove=function(t){},o.clear=function(){},o.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var i=o.get(t,e);n(i),o.set(t,i)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(t){return JSON.stringify(t)},o.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},i()&&(r=a[l],o.set=function(t,e){return void 0===e?o.remove(t):(r.setItem(t,o.serialize(e)),e)},o.get=function(t,e){var n=o.deserialize(r.getItem(t));return void 0===n?e:n},o.remove=function(t){r.removeItem(t)},o.clear=function(){r.clear()},o.getAll=function(){var t={};return o.forEach(function(e,n){t[e]=n}),t},o.forEach=function(t){for(var e=0;e<r.length;e++){var n=r.key(e);t(n,o.get(n))}});try{var u="__storejs__";o.set(u,u),o.get(u)!=u&&(o.disabled=!0),o.remove(u)}catch(c){o.disabled=!0}o.enabled=!o.disabled,t.exports=s.store=o}).call(e,function(){return this}())},function(t,e,n){var i,r,i,s,i,o,a;!function(s,o){i=o,!(r="function"==typeof i?i.call(e,n,e,t):i)}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=r(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,i,o,l=[],u=t.split(/ +/);for(e=0,n=u.length;e<n;e++){if(i=s(u[e]),this.settings.diacritics)for(o in a)a.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),a[o]));l.push({string:u[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=o(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,r,s,o,a;n=this,t=n.prepareSearch(t,e),s=t.tokens,r=t.options.fields,o=s.length,a=t.options.nesting;var l=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),i===-1?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},u=function(){var t=r.length;return t?1===t?function(t,e){return l(i(e,r[0],a),t)}:function(e,n){for(var s=0,o=0;s<t;s++)o+=l(i(n,r[s],a),e);return o/t}:function(){return 0}}();return o?1===o?function(t){return u(s[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<o;n++){if(e=u(s[n],t),e<=0)return 0;i+=e}return i/o}:function(t){for(var e=0,n=0;e<o;e++)n+=u(s[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,s,o,a,l,u,c,d,p,h,f;if(o=this,t=o.prepareSearch(t,n),f=!t.query&&n.sort_empty||n.sort,p=function(t,e){return"$score"===t?e.score:i(o.items[e.id],t,n.nesting)},l=[],f)for(r=0,s=f.length;r<s;r++)(t.query||"$score"!==f[r].field)&&l.push(f[r]);if(t.query){for(h=!0,r=0,s=l.length;r<s;r++)if("$score"===l[r].field){h=!1;break}h&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,s=l.length;r<s;r++)if("$score"===l[r].field){l.splice(r,1);break}for(d=[],r=0,s=l.length;r<s;r++)d.push("desc"===l[r].direction?-1:1);return u=l.length,u?1===u?(a=l[0].field,c=d[0],function(t,n){return c*e(p(a,t),p(a,n))}):function(t,n){var i,r,s;for(i=0;i<u;i++)if(s=l[i].field,r=d[i]*e(p(s,t),p(s,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,r=e.sort,s=e.sort_empty;return i&&!o(i)&&(e.fields=[i]),r&&!o(r)&&(e.sort=[r]),s&&!o(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,s,o=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,s=e.score||o.getScoreFunction(i),t.length?o.iterator(o.items,function(t,r){n=s(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:r})}):o.iterator(o.items,function(t,e){i.items.push({score:1,id:e})}),r=o.getSortFunction(i,e),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,r,s;for(n=1,i=arguments.length;n<i;n++)if(s=arguments[n])for(r in s)s.hasOwnProperty(r)&&(t[r]=s[r]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},s=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var t,e,n,i,r="",s={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),r+=i,t=0,e=i.length;t<e;t++)s[i.charAt(t)]=n;var o=new RegExp("["+r+"]","g");return function(t){return t.replace(o,function(t){return s[t]}).toLowerCase()}}();return t}),function(r,o){i=o,!(s="function"==typeof i?i.call(e,n,e,t):i)}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,s=this,o=[];if(s.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?o.push(t[n]):(s.plugins.settings[t[n].name]=t[n].options,o.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(s.plugins.settings[r]=t[r],o.push(r));for(;o.length;)s.require(o.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(l,u){o=[n(2),r,s],i=u,a="function"==typeof i?i.apply(e,o):i,!(void 0!==a&&(t.exports=a))}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var s=t.data.match(n),o=document.createElement("span");o.className="highlight";var a=t.splitText(r),l=(a.splitText(s[0].length),a.cloneNode(!0));o.appendChild(l),a.parentNode.replaceChild(o,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=i(t.childNodes[u]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var s=/Mac/.test(navigator.userAgent),o=65,a=13,l=27,u=37,c=38,d=80,p=39,h=40,f=78,g=8,m=46,v=16,y=s?91:17,w=s?18:17,b=9,C=1,_=2,$=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,x=function(t){return"undefined"!=typeof t},E=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},O=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},F={};F.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},F.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var T=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},A=function(t,e){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,r)},e)}},S=function(t,e,n){var i,r=t.trigger,s={};t.trigger=function(){var n=arguments[0];return e.indexOf(n)===-1?r.apply(t,arguments):void(s[n]=arguments)},n.apply(t,[]),t.trigger=r;for(i in s)s.hasOwnProperty(i)&&r.apply(t,s[i])},D=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},I=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),
e.start=n.text.length-i,e.length=i}return e},k=function(t,e,n){var i,r,s={};if(n)for(i=0,r=n.length;i<r;i++)s[n[i]]=t.css(n[i]);else s=t.css();e.css(s)},P=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");k(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},z=function(t){var e=null,n=function(n,i){var r,s,o,a,l,u,c,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(s=n.keyCode,o=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,s===m||s===g?(d=I(t[0]),d.length?r=r.substring(0,d.start)+r.substring(d.start+d.length):s===g&&d.start?r=r.substring(0,d.start-1)+r.substring(d.start+1):s===m&&"undefined"!=typeof d.start&&(r=r.substring(0,d.start)+r.substring(d.start+1))):o&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),c=u?c.toUpperCase():c.toLowerCase(),r+=c)),a=t.attr("placeholder"),!r&&a&&(r=a),l=P(r,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},M=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},R=function(t,e){e||(e={});var n="Selectize";console.error(n+": "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())},q=function(n,i){var r,s,o,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(o=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,o=o||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?C:_,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++q.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:!1,isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,s=l.settings.options.length;r<s;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,s=l.settings.optgroups.length;r<s;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(q),"undefined"!=typeof n?n.mixin(q):R("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(q.prototype,{setup:function(){var e,n,i,r,o,a,l,u,c,d,p=this,h=p.settings,f=p.eventNS,g=t(window),m=t(document),b=p.$input;if(l=p.settings.mode,u=b.attr("class")||"",e=t("<div>").addClass(h.wrapperClass).addClass(u).addClass(l),n=t("<div>").addClass(h.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",b.is(":disabled")?"-1":p.tabIndex),a=t(h.dropdownParent||e),r=t("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(a),o=t("<div>").addClass(h.dropdownContentClass).appendTo(r),(d=b.attr("id"))&&(i.attr("id",d+"-selectized"),t("label[for='"+d+"']").attr("for",d+"-selectized")),p.settings.copyClassesToDropdown&&r.addClass(u),e.css({width:b[0].style.width}),p.plugins.names.length&&(c="plugin-"+p.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===h.maxItems||h.maxItems>1)&&p.tagType===C&&b.attr("multiple","multiple"),p.settings.placeholder&&i.attr("placeholder",h.placeholder),!p.settings.splitOn&&p.settings.delimiter){var _=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}b.attr("autocorrect")&&i.attr("autocorrect",b.attr("autocorrect")),b.attr("autocapitalize")&&i.attr("autocapitalize",b.attr("autocapitalize")),p.$wrapper=e,p.$control=n,p.$control_input=i,p.$dropdown=r,p.$dropdown_content=o,r.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),r.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),D(n,"mousedown","*:not(input)",function(){return p.onItemSelect.apply(p,arguments)}),z(i),n.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),m.on("keydown"+f,function(t){p.isCmdDown=t[s?"metaKey":"ctrlKey"],p.isCtrlDown=t[s?"altKey":"ctrlKey"],p.isShiftDown=t.shiftKey}),m.on("keyup"+f,function(t){t.keyCode===w&&(p.isCtrlDown=!1),t.keyCode===v&&(p.isShiftDown=!1),t.keyCode===y&&(p.isCmdDown=!1)}),m.on("mousedown"+f,function(t){if(p.isFocused){if(t.target===p.$dropdown[0]||t.target.parentNode===p.$dropdown[0])return!1;p.$control.has(t.target).length||t.target===p.$control[0]||p.blur(t.target)}}),g.on(["scroll"+f,"resize"+f].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),g.on("mousemove"+f,function(){p.ignoreHover=!1}),this.revertSettings={$children:b.children().detach(),tabindex:b.attr("tabindex")},b.attr("tabindex",-1).hide().after(p.$wrapper),t.isArray(h.items)&&(p.setValue(h.items),delete h.items),$&&b.on("invalid"+f,function(t){t.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,b.is(":disabled")&&p.disable(),p.on("change",this.onChange),b.data("selectize",p),b.addClass("selectized"),p.trigger("initialize"),h.preload===!0&&p.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;return n.isFull()||n.isInputHidden||n.isLocked?void e.preventDefault():void(n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),r=0,s=i.length;r<s;r++)n.createItem(i[r])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==b&&t.preventDefault());switch(t.keyCode){case o:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case f:if(!t.ctrlKey||t.altKey)break;case h:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case d:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case p:return void e.advanceSelection(1,t);case b:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(s?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===C&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];S(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,s,o,a,l,u,c,d=this;if("single"!==d.settings.mode){if(e=t(e),!e.length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),o=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]),o>a&&(u=o,o=a,a=u),r=o;r<=a;r++)l=d.$control[0].childNodes[r],d.$activeItems.indexOf(l)===-1&&(t(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(s=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(s,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,i){var r,s,o,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&x(n)||(r=u.$dropdown_content.height(),s=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,o=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=o,l=o-r+s,o+s>r+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):o<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,s=this,o=s.settings,a=this.getSearchOptions();if(o.score&&(r=s.settings.score.apply(this,[e]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==s.lastQuery?(s.lastQuery=e,i=s.sifter.search(e,t.extend(a,{score:r})),s.currentResults=i):i=t.extend(!0,{},s.currentResults),o.hideSelected)for(n=i.items.length-1;n>=0;n--)s.items.indexOf(E(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,s,o,a,l,u,c,d,p,h,f,g,m,v,y;"undefined"==typeof e&&(e=!0);var w=this,b=t.trim(w.$control_input.val()),C=w.search(b),_=w.$dropdown_content,$=w.$activeOption&&E(w.$activeOption.attr("data-value"));for(o=C.items.length,"number"==typeof w.settings.maxOptions&&(o=Math.min(o,w.settings.maxOptions)),a={},l=[],n=0;n<o;n++)for(u=w.options[C.items[n].id],c=w.render("option",u),d=u[w.settings.optgroupField]||"",p=t.isArray(d)?d:[d],r=0,s=p&&p.length;r<s;r++)d=p[r],w.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var n=w.optgroups[t].$order||0,i=w.optgroups[e].$order||0;return n-i}),h=document.createDocumentFragment(),n=0,o=l.length;n<o;n++)d=l[n],w.optgroups.hasOwnProperty(d)&&a[d].childNodes.length?(f=document.createDocumentFragment(),f.appendChild(w.render("optgroup_header",w.optgroups[d])),f.appendChild(a[d]),h.appendChild(w.render("optgroup",t.extend({},w.optgroups[d],{html:M(f),dom:f})))):h.appendChild(a[d]);if(_.html(h),w.settings.highlight&&C.query.length&&C.tokens.length)for(_.removeHighlight(),n=0,o=C.tokens.length;n<o;n++)i(_,C.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,o=w.items.length;n<o;n++)w.getOption(w.items[n]).addClass("selected");g=w.canCreate(b),g&&(_.prepend(w.render("option_create",{input:b})),y=t(_[0].childNodes[0])),w.hasOptions=C.items.length>0||g,w.hasOptions?(C.items.length>0?(v=$&&w.getOption($),v&&v.length?m=v:"single"===w.settings.mode&&w.items.length&&(m=w.getOption(w.items[0])),m&&m.length||(m=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):_.find("[data-selectable]:first"))):m=y,w.setActiveOption(m),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var n,i,r,s=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)s.addOption(e[n]);else(r=s.registerOption(e))&&(s.userOptions[r]=!0,s.lastQuery=null,s.trigger("option_add",r,e))},registerOption:function(t){var e=E(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=E(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,s,o,a,l,u,c=this;if(e=E(e),s=E(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof s)throw new Error("Value must be set in option data");u=c.options[e].$order,s!==e&&(delete c.options[e],o=c.items.indexOf(e),o!==-1&&c.items.splice(o,1,s)),n.$order=n.$order||u,c.options[s]=n,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[e],delete a[s]),l&&(delete l[e],delete l[s]),c.items.indexOf(s)!==-1&&(i=c.getItem(e),r=t(c.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=E(t);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[t],r&&delete r[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(e=E(e),"undefined"!=typeof e&&null!==e)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,s=i.length;r<s;r++)this.isPending=r<s-1,this.addItem(i[r],n)},addItem:function(e,n){var i=n?[]:["change"];S(this,i,function(){var i,r,s,o,a,l=this,u=l.settings.mode;return e=E(e),l.items.indexOf(e)!==-1?void("single"===u&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===u&&l.clear(n),"multi"===u&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(s=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(e),o=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),o&&l.setActiveOption(l.getOption(o))),!s.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,n){var i,r,s,o=this;i=e instanceof t?e:o.getItem(e),e=E(i.attr("data-value")),r=o.items.indexOf(e),r!==-1&&(i.remove(),i.hasClass("active")&&(s=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(s,1)),o.items.splice(r,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,n),r<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:n}),o.positionDropdown(),o.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return s(),!1;i.lock();var o="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=T(function(t){if(i.unlock(),!t||"object"!=typeof t)return s();var e=E(t[i.settings.valueField]);return"string"!=typeof e?s():(i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void s(t))}),l=o.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r,s=this;if(t=t||{},s.tagType===C){for(i=[],e=0,n=s.items.length;e<n;e++)r=s.options[s.items[e]][s.settings.labelField]||"",i.push('<option value="'+O(s.items[e])+'" selected="selected">'+O(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),s.$input.html(i.join(""))}else s.$input.val(s.getValue()),s.$input.attr("value",s.$input.val());s.isSetup&&(t.silent||s.trigger("change",s.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,s,o,a,l,u,c,d=this;if(r=e&&e.keyCode===g?-1:1,s=I(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),o=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(r>0?"last":"first")),a=d.$control.children(":not(input)").index(c),r>0&&a++,n=0,i=d.$activeItems.length;n<i;n++)o.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(r<0&&0===s.start&&0===s.length?o.push(d.items[d.caretPos-1]):r>0&&s.start===d.$control_input.val().length&&o.push(d.items[d.caretPos]));if(!o.length||"function"==typeof d.settings.onDelete&&d.settings.onDelete.apply(d,[o])===!1)return!1;for("undefined"!=typeof a&&d.setCaret(a);o.length;)d.removeItem(o.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(u=d.getOption(l),u.length&&d.setActiveOption(u)),!0},advanceSelection:function(t,e){var n,i,r,s,o,a,l=this;0!==t&&(l.rtl&&(t*=-1),n=t>0?"last":"first",i=I(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(s=l.$control_input.val().length,o=t<0?0===i.start&&0===i.length:i.start===s,o&&!s&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+n),a.length&&(r=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?r+1:r))))},advanceCaret:function(t,e){var n,i,r=this;0!==t&&(n=t>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),e&&e.preventDefault())):r.setCaret(r.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,r,s,o;for(s=n.$control.children(":not(input)"),i=0,r=s.length;i<r;i++)o=t(s[i]).detach(),i<e?n.$control_input.before(o):n.$control.append(o)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,r,s="",o=!1,a=this;return"option"!==e&&"item"!==e||(i=E(n[a.settings.valueField]),o=!!i),o&&(x(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(s=t(a.settings.render[e].apply(this,[n,O])),"option"===e||"option_create"===e?s.attr("data-selectable",""):"optgroup"===e&&(r=n[a.settings.optgroupValueField]||"",s.attr("data-group",r)),"option"!==e&&"item"!==e||s.attr("data-value",i||""),o&&(a.renderCache[e][i]=s[0]),s[0])},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),q.count=0,q.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,s=i.labelField,o=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c=function(e,n){var a,l,u,c,d=e.attr(r);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][o]);else{var p=t.trim(e.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(u=p.split(i.delimiter),a=0,l=u.length;a<l;a++)c={},c[s]=u[a],c[o]=u[a],n.options.push(c);n.items=u}},d=function(e,n){var c,d,p,h,f=n.options,g={},m=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,r){e=t(e);var l=E(e.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var u=g[l][a];u?t.isArray(u)?u.push(r):g[l][a]=[u,r]:g[l][a]=r}}else{var c=m(e)||{};c[s]=c[s]||e.text(),c[o]=c[o]||l,c[a]=c[a]||r,g[l]=c,f.push(c),e.is(":selected")&&n.items.push(l)}},y=function(e){var i,r,s,o,a;for(e=t(e),s=e.attr("label"),s&&(o=m(e)||{},o[l]=s,o[u]=s,n.optgroups.push(o)),a=t("option",e),i=0,r=a.length;i<r;i++)v(a[i],s)};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),c=0,d=h.length;c<d;c++)p=h[c].tagName.toLowerCase(),"optgroup"===p?y(h[c]):"option"===p&&v(h[c])};return this.each(function(){if(!this.selectize){var r,s=t(this),o=this.tagName.toLowerCase(),a=s.attr("placeholder")||s.attr("data-placeholder");a||i.allowEmptyOption||(a=s.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===o?d(s,l):c(s,l),r=new q(s,t.extend(!0,{},n,l,e))}})},t.fn.selectize.defaults=q.defaults,t.fn.selectize.support={validity:$},q.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(e)}})}}()}}),q.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),q.define("optgroup_columns",function(e){
var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,r,s,o;return!this.isOpen||e.keyCode!==u&&e.keyCode!==p?t.apply(this,arguments):(n.ignoreHover=!0,o=this.$activeOption.closest("[data-group]"),i=o.find("[data-selectable]").index(this.$activeOption),o=e.keyCode===u?o.prev("[data-group]"):o.next("[data-group]"),s=o.find("[data-selectable]"),r=s.eq(Math.min(s.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},r=function(){var r,s,o,a,l,u,c;if(c=t("[data-group]",n.$dropdown_content),s=c.length,s&&n.$dropdown_content.width()){if(e.equalizeHeight){for(o=0,r=0;r<s;r++)o=Math.max(o,c.eq(r).height());c.css({height:o})}e.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/s),c.css({width:a}),s>1&&(l=u-a*(s-1),c.eq(s-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(F.after(this,"positionDropdown",r),F.after(this,"refreshOptions",r))}),q.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=function(e,n){n.className="remove-single";var i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+O(n.title)+'">'+n.label+"</a>",s=function(t,e){return t+e};e.setup=function(){var o=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),l=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return s(l.apply(e,arguments),r)}}o.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()},i=function(e,n){var i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+O(n.title)+'">'+n.label+"</a>",s=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var o=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return s(a.apply(e,arguments),r)}}o.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()};return"single"===this.settings.mode?void n(this,e):void i(this,e)}),q.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,r;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(r=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),q})},function(t,e,n){"use strict";var i=n(2),r=n(1),s=".am-form",o="am-disabled",a=null;"function"!=typeof FormData&&i(function(){var t=document.createElement("script");t.type="text/javascript",t.src="/js/jquery.form.min.js",document.body.appendChild(t)});var l=function(t,e){this.options=i.extend({},l.DEFAULTS,e),this.$element=i(t),this.init()};l.DEFAULTS={},l.prototype.init=function(){a=this,this.radio(),this.checkbox(),this.select()},l.prototype.each=function(t,e){var n,i=this;if("function"!=typeof e)return i;if(t=t||[],t.constructor===Object){for(n in t)if(e.call(t[n],n,t[n]))break}else for(n=0;n<t.length&&!e.call(t[n],n,t[n]);n++);return i},l.prototype.checkbox=function(){var t={checkbox:["am-form-checkbox","am-form-checked","checkbox"],_switch:["am-form-switch","am-form-onswitch","switch"]},e=this.$element.find("input[type=checkbox]"),n=function(){var t=i(this),e=this.skinElement,n=this.skinClass,r=(t.attr("data-filter"),(t.attr("data-text")||"").split("|"));e.hasClass(n[1])?e.removeClass(n[1]).find("em").text(r[1]):e.addClass(n[1]).find("em").text(r[0])};e.each(function(e,r){var s=i(this),a=s.attr("data-skin"),l=(s.attr("data-text")||"").split("|"),u=this.disabled;"switch"===a&&(a="_"+a);var c=t[a]||t.checkbox;if("string"==typeof s.attr("data-ignore"))return s.show();var d=s.next("."+c[0]),p=i(['<div class="am-unselect '+c[0]+(r.checked?" "+c[1]:"")+(u?" am-checkbox-disbaled "+o:"")+'" data-skin="'+(a||"")+'">',{_switch:"<em>"+((r.checked?l[0]:l[1])||"")+"</em><i></i>"}[a]||(r.title.replace(/\s/g,"")?"<span>"+r.title+"</span>":"")+'<i class="icon">'+(a?"&#xe6a5;":"&#xe61e;")+"</i>","</div>"].join(""));d[0]&&d.remove(),s.after(p),this.skinElement=p,this.skinClass=c,this.disabled||p.on("click",function(){n.call(s[0]),s.trigger("click")})}).on("click",function(){n.call(this)}).on("change",function(){n.call(this)})},l.prototype.radio=function(){var t=this,e="am-form-radio",n=["&#xe67f;","&#xe697;"],r=this.$element.find("input[type=radio]"),a=function(){var r=i(this),o=this.skinElement,a="am-anim-scaleSpring",l=r[0].name,u=r.parents(s),c=(r.attr("data-filter"),u.find("input[name="+l.replace(/(\.|#|\[|\])/g,"\\$1")+"]"));t.each(c,function(){var t=i(this).next("."+e);t.removeClass(e+"ed"),t.find(".icon").removeClass(a).html(n[1])}),o.addClass(e+"ed"),o.find(".icon").addClass(a).html(n[0])};r.each(function(t,r){var s=i(this),l=s.next("."+e),u=this.disabled;if("string"==typeof s.attr("data-ignore"))return s.show();var c=i(['<div class="am-unselect '+e+(r.checked?" "+e+"ed":"")+(u?" am-radio-disbaled "+o:"")+'">','<i class="am-anim icon">'+n[r.checked?0:1]+"</i>","<span>"+(r.title||"\u672a\u547d\u540d")+"</span>","</div>"].join(""));l[0]&&l.remove(),s.after(c),this.skinElement=c,this.disabled||c.on("click",function(){s.trigger("click"),a.call(s[0])})}).on("click",function(){a.call(this)}).on("change",function(){a.call(this)})},l.prototype.select=function(){var t=this.$element.find("select");t.each(function(t,e){var n=i(this);"string"!=typeof n.attr("data-ignore")&&n.selectize({plugins:["remove_button"],delimiter:",",persist:!1,create:!1,sortField:"text",onInitialize:function(){this.$control_input.attr("data-v-excluded",!0),this.$control.hasClass("required")&&this.$input.prop("required","required"),console.log("select init!")},onChange:function(t){this.$input.trigger("change"),this.$input.trigger("input")}})})},r.plugin("form",l,{after:function(){r.support.touch}}),r.ready(function(t){i(".am-form",t).form()}),function(t){t.fn.asyncSubmit=function(e){return"function"==typeof e&&(e={success:e}),this.each(function(){var n=this,i=t(this);"string"==typeof i.attr("data-questions")&&i.find("input.other").change(function(){var e=""!=t(this).val(),n=t(this).prev("input");n.length||(n=t(this).prev().prev());var i=n.val().split(":")[0];n[0].checked=e,e&&(i+=":"+t(this).val().replace(/:/gi,"\uff1a").replace(/,/gi,"\uff0c")),n.val(i)}),this.goSubmit=function(){n.vm&&(n.vm.submitting=!0);var r=t(n).find("input[type='submit'],button[type='submit']").prop("disabled",!0),s=null;if(r.is("button")&&(s=r.html(),r.html('<i class="am-icon-circle-o-notch am-icon-spin"></i>\u6b63\u5728\u63d0\u4ea4...')),"function"==typeof FormData){var o=new FormData(this),a=i.attr("action");try{t.ajax({url:a,type:"POST",dataType:"json",data:o,cache:!1,processData:!1,contentType:!1}).done(function(t){n.vm&&(n.vm.submitting=!1),t.succ?(e.success(t.data),setTimeout(function(){r.prop("disabled",!1).html(s)},1e3)):(r.prop("disabled",!1).html(s),alert(t.data))}).fail(function(t,i,o){r.prop("disabled",!1).html(s),n.vm&&(n.vm.submitting=!1),e.error&&e.error(i+" : "+t.statusText+" : "+t.responseText+"\r\n"+o)})}catch(l){alert("err:"+l.message)}return!1}t(this).ajaxSubmit({dataType:"json",success:function(t){r.prop("disabled",!1).html(s),t.succ?e.success(t.data):alert(t.data)}})};var r={namespace:"data-v-",trigger:"change",successClass:"am-form-success",errorClass:"am-form-error",errorsWrapper:'<div class="am-error-list"></div>',errorTemplate:'<div class="am-alert am-alert-danger"></div>',classHandler:function(t){return t.$element.closest(".am-form-group")},errorsContainer:function(t){return t.$element.hasClass("selectized")?t.$element.parent():t.$element[0]}};e.validate&&t.extend(r,e.validate),console.log("set parsley!"),t(this).parsley(r).on("form:validate",function(t){if(n.controls&&n.controls.length)for(var i=0;i<n.controls.length;i++)if(!n.controls[i].isValid())return void(t.validationResult=!1);return e.before&&!e.before.call(this)?void(t.validationResult=!1):void(t.validationResult=!0)}).on("form:submit",function(){return n.goSubmit(),!1}).on("form:validated",function(){t.each(this.fields,function(t,e){e.validationResult===!0?e.$element.removeClass("am-field-error").addClass("am-field-valid"):e.$element.removeClass("am-field-success").addClass("am-field-error")})}).on("field:validated",function(){this.validationResult===!0?this.$element.removeClass("am-field-error").addClass("am-field-valid"):this.$element.removeClass("am-field-success").addClass("am-field-error")})})},t.fn.fill=function(e){var n=function(e,i,r,s){for(var o in e)if(null!=e[o])if("object"!=typeof e[o]||e[o].length){var a,l=document.getElementsByName(s+o),u=l.length&&"checkbox"===t(l[0]).prop("type"),c=l.length&&"radio"===t(l[0]).prop("type");(u||c)&&(a=e[o]?e[o].toString().split(","):[]),t(l).each(function(){var n=t(this);if("undefined"==typeof n.attr("data-no-fill")){if(r&&(n.attr("data-old",n.val()),i.inputs.push(this)),u||c)return void(a.indexOf(n.val())>=0&&(c?n.trigger("click"):this.checked?this.fireEvent("click"):n.trigger("click")));var s=n.attr("type"),l=n.attr("data-type");return"file"===s?void("image"===l&&n.attr("data-src")&&t("#"+n.attr("data-src")).prop("src",e[o])):void("editor"===l?this.editor.setContent(e[o]):this.hasAttribute("data-tags")||"tags"===l?n.tagsinput("add",e[o].join(",")):this.hasAttribute("data-select-input")?(n.val(e[o]),this.fireEvent("update")):(n.val(e[o]),n.hasClass("select2")&&n.trigger("change.select2")))}})}else n(e[o],i,r,s+o+".")};return this.each(function(){var t=void 0==this.inputs;t&&(this.inputs=[]);var i=this;n(e,i,t,"")})},t.fn.resetForm=function(){return this.each(function(){if(!this.inputs){this.inputs=[];var e=this;return void t(this).find("input,textarea,select").each(function(){t(this).attr("data-old",t(this).val()),e.inputs.push(this)})}t(this.inputs).each(function(){var e=t(this).attr("type");if("file"===e)return void("image"===t(this).attr("data-type")&&t(this).attr("data-src")&&t("#"+t(this).attr("data-src")).prop("src",data[key]));if("editor"===t(this).attr("data-type"))this.editor.setContent(t(this).attr("data-old"));else if(this.hasAttribute("data-tags")||"tags"===t(this).attr("data-type"))t(this).tagsinput("removeAll"),t(this).tagsinput("add",t(this).attr("data-old"));else{try{t(this).val(t(this).attr("data-old"))}catch(n){}t(this).hasClass("select2")&&t(this).trigger("change.select2")}})})}}(i),t.exports=l},function(t,e,n){(function(e){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=Array.prototype.slice,s=function(){function t(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,s=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};!function(e,i){t.exports=i(n(2))}(this,function(t){"use strict";function n(t,e){return t.parsleyAdaptedCallback||(t.parsleyAdaptedCallback=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(this),t.apply(e||R,n)}),t.parsleyAdaptedCallback}function a(t){return 0===t.lastIndexOf(N,0)?t.substr(N.length):t}function l(){var n=this,i=window||e;o(this,{isNativeEvent:function(t){return t.originalEvent&&t.originalEvent.isTrusted!==!1},fakeInputEvent:function(e){n.isNativeEvent(e)&&t(e.target).trigger("input")},misbehaves:function(e){n.isNativeEvent(e)&&(n.behavesOk(e),t(document).on("change.inputevent",e.data.selector,n.fakeInputEvent),n.fakeInputEvent(e))},behavesOk:function(e){n.isNativeEvent(e)&&t(document).off("input.inputevent",e.data.selector,n.behavesOk).off("change.inputevent",e.data.selector,n.misbehaves)},install:function(){if(!i.inputEventPatched){i.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],r=0;r<e.length;r++){var s=e[r];t(document).on("input.inputevent",s,{selector:s},n.behavesOk).on("change.inputevent",s,{selector:s},n.misbehaves)}}},uninstall:function(){delete i.inputEventPatched,t(document).off(".inputevent")}})}var u=1,c={},d={attr:function(t,e,n){var i,r,s,o=new RegExp("^"+e,"i");if("undefined"==typeof n)n={};else for(i in n)n.hasOwnProperty(i)&&delete n[i];if(!t)return n;for(s=t.attributes,i=s.length;i--;)r=s[i],r&&r.specified&&o.test(r.name)&&(n[this.camelize(r.name.slice(e.length))]=this.deserializeValue(r.value));return n},checkAttr:function(t,e,n){return t.hasAttribute(e+n)},setAttr:function(t,e,n,i){t.setAttribute(this.dasherize(e+n),String(i))},generateID:function(){return""+u++},deserializeValue:function(e){var n;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var t;window.console&&"function"==typeof window.console.warn&&(t=window.console).warn.apply(t,arguments)},warnOnce:function(t){c[t]||(c[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){c={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},parse:{date:function L(t){var e=t.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!e)return null;var n=e.map(function(t){return parseInt(t,10)}),i=s(n,4),r=(i[0],i[1]),o=i[2],a=i[3],L=new Date(r,o-1,a);return L.getFullYear()!==r||L.getMonth()+1!==o||L.getDate()!==a?null:L},string:function(t){return t},integer:function(t){return isNaN(t)?null:parseInt(t,10)},number:function(t){if(isNaN(t))throw null;return parseFloat(t)},"boolean":function(t){return!/^\s*false\s*$/i.test(t)},object:function(t){return d.deserializeValue(t)},regexp:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)?(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")):t="^"+t+"$",new RegExp(t,e)}},parseRequirement:function(t,e){var n=this.parse[t||"string"];if(!n)throw'Unknown requirement specification: "'+t+'"';var i=n(e);if(null===i)throw"Requirement is not a "+t+': "'+e+'"';return i},namespaceEvents:function(e,n){return e=this.trimString(e||"").split(/\s+/),e[0]?t.map(e,function(t){return t+"."+n}).join(" "):""},difference:function(e,n){var i=[];return t.each(e,function(t,e){n.indexOf(e)==-1&&i.push(e)}),i},all:function(e){return t.when.apply(t,i(e).concat([42,42]))},objectCreate:Object.create||function(){var t=function(){};return function(e){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");t.prototype=e;var n=new t;return t.prototype=null,n}}(),_SubmitSelector:'input[type="submit"], button:submit'},p={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(t){},errorsContainer:function(t){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},h=function(){this.__id__=d.generateID()};h.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var e=this,n=function(){var n=t.Deferred();return!0!==e.validationResult&&n.reject(),n.resolve().promise()};return[n,n]},actualizeOptions:function(){return d.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){this.domOptions=d.objectCreate(this.parent.options),this.options=d.objectCreate(this.domOptions);for(var e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){this._listeners=this._listeners||{};var n=this._listeners[t]=this._listeners[t]||[];return n.push(e),this},subscribe:function(e,n){t.listenTo(this,e.toLowerCase(),n)},off:function(t,e){var n=this._listeners&&this._listeners[t];if(n)if(e)for(var i=n.length;i--;)n[i]===e&&n.splice(i,1);else delete this._listeners[t];return this},unsubscribe:function(e,n){t.unsubscribeTo(this,e.toLowerCase())},trigger:function(t,e,n){e=e||this;var i,r=this._listeners&&this._listeners[t];if(r)for(var s=r.length;s--;)if(i=r[s].call(e,e,n),i===!1)return i;return!this.parent||this.parent.trigger(t,e,n)},asyncIsValid:function(t,e){return d.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:t,force:e})},_findRelated:function(){return this.options.multiple?t(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var f=function(t,e){var n=t.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+t+'"';var i=n[1].split(",").map(d.trimString);if(i.length!==e)throw"Requirement has "+i.length+" values when "+e+" are needed";return i},g=function(t,e,n){var i=null,r={};for(var s in t)if(s){var o=n(s);"string"==typeof o&&(o=d.parseRequirement(t[s],o)),r[s]=o}else i=d.parseRequirement(t[s],e);return[i,r]},m=function(e){t.extend(!0,this,e)};m.prototype={validate:function(t,e){if(this.fn)return arguments.length>3&&(e=[].slice.call(arguments,1,-1)),this.fn(t,e);if(Array.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var n=arguments[arguments.length-1];if(this.validateDate&&n._isDateInput())return arguments[0]=d.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(t)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(e,n){if("string"!=typeof e)return Array.isArray(e)?e:[e];var i=this.requirementType;if(Array.isArray(i)){for(var r=f(e,i.length),s=0;s<r.length;s++)r[s]=d.parseRequirement(i[s],r[s]);return r}return t.isPlainObject(i)?g(i,e,n):[d.parseRequirement(i,e)]},requirementType:"string",priority:2};var v=function(t,e){this.__class__="ValidatorRegistry",this.locale="en",this.init(t||{},e||{})},y={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(t){return null!==d.parse.date(t)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};y.range=y.number;var w=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},b=function(t,e){return e.map(d.parse[t])},C=function(t,e){return function(n){for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.pop(),e.apply(void 0,[n].concat(i(b(t,s))))}},_=function(t){return{validateDate:C("date",t),validateNumber:C("number",t),requirementType:t.length<=2?"string":["string","string"],priority:30}};v.prototype={init:function(t,e){this.catalog=e,this.validators=o({},this.validators);for(var n in t)this.addValidator(n,t[n].fn,t[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e]=n,this},addMessages:function(t,e){for(var n in e)this.addMessage(t,n,e[n]);return this},addValidator:function(t,e,n){if(this.validators[t])d.warn('Validator "'+t+'" is already defined.');else if(p.hasOwnProperty(t))return void d.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(t,e,n){return this.validators[t]?this._setValidator.apply(this,arguments):(d.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||d.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,n){"object"!=typeof e&&(e={fn:e,priority:n}),e.validate||(e=new m(e)),this.validators[t]=e;for(var i in e.messages||{})this.addMessage(i,t,e.messages[i]);return this},getErrorMessage:function(t){var e;if("type"===t.name){var n=this.catalog[this.locale][t.name]||{};e=n[t.requirements]}else e=this.formatMessage(this.catalog[this.locale][t.name],t.requirements);return e||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(/%s/i,e):""},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return t.length>0},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=n.step,r=void 0===i?"any":i,s=n.base,o=void 0===s?0:s,a=y[e];if(!a)throw new Error("validator type `"+e+"` is not supported");if(!a.test(t))return!1;if("number"===e&&!/^any$/i.test(r||"")){var l=Number(t),u=Math.max(w(r),w(o));if(w(l)>u)return!1;var c=function(t){return Math.round(t*Math.pow(10,u))};if((c(l)-c(o))%c(r)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(t,e){return e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,n){return t.length>=e&&t.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,n){return t.length>=e&&t.length<=n},requirementType:["integer","integer"],priority:30},min:_(function(t,e){return t>=e}),max:_(function(t,e){return t<=e}),range:_(function(t,e,n){return t>=e&&t<=n}),equalto:{validateString:function(e,n){var i=t(n);return i.length?e===i.val():e===n},priority:256}}};var $={},x=function W(t,e,n){for(var i=[],r=[],s=0;s<t.length;s++){for(var o=!1,a=0;a<e.length;a++)if(t[s].assert.name===e[a].assert.name){o=!0;break}o?r.push(t[s]):i.push(t[s])}return{kept:r,added:i,removed:n?[]:W(e,t,!0).added}};$.Form={_actualizeTriggers:function(){var t=this;this.$element.on("submit.Parsley",function(e){t.onSubmitValidate(e)}),this.$element.on("click.Parsley",d._SubmitSelector,function(e){t.onSubmitButton(e)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var t=0;t<this.fields.length;t++){var e=this.fields[t];if(!0!==e.validationResult&&e.validationResult.length>0&&"undefined"==typeof e.options.noFocus&&(this._focusedField=e.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},$.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var t=x(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(t),this._actualizeTriggers(),!t.kept.length&&!t.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var t=[],e=0;e<this.validationResult.length;e++)t.push(this.validationResult[e].errorMessage||this._getErrorMessage(this.validationResult[e].assert));return t},addError:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.message,i=e.assert,r=e.updateClass,s=void 0===r||r;this._buildUI(),this._addError(t,{message:n,assert:i}),s&&this._errorClass()},updateError:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.message,i=e.assert,r=e.updateClass,s=void 0===r||r;this._buildUI(),this._updateError(t,{message:n,assert:i}),s&&this._errorClass()},removeError:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.updateClass,i=void 0===n||n;this._buildUI(),this._removeError(t),i&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(e){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return e.added.length||e.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(t(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<e.removed.length;n++)this._removeError(e.removed[n].assert.name);for(n=0;n<e.added.length;n++)this._addError(e.added[n].assert.name,{message:e.added[n].errorMessage,assert:e.added[n].assert});for(n=0;n<e.kept.length;n++)this._updateError(e.kept[n].assert.name,{message:e.kept[n].errorMessage,assert:e.kept[n].assert})}},_addError:function(e,n){var i=n.message,r=n.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(t(this.options.errorTemplate).addClass("parsley-"+e).html(i||this._getErrorMessage(r)))},_updateError:function(t,e){var n=e.message,i=e.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(n||this._getErrorMessage(i))},_removeError:function(t){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove()},_getErrorMessage:function(t){var e=t.name+"Message";return"undefined"!=typeof this.options[e]?window.Parsley.formatMessage(this.options[e],t.requirements):window.Parsley.getErrorMessage(t)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var e={};this.element.setAttribute(this.options.namespace+"id",this.__id__),e.$errorClassHandler=this._manageClassHandler(),e.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),e.$errorsWrapper=t(this.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validationInformationVisible=!1,this._ui=e}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler)return 0===t(this.options.classHandler).length&&ParsleyUtils.warn("No elements found that match the selector `"+this.options.classHandler+"` set in options.classHandler or data-parsley-class-handler"),t(this.options.classHandler);if("function"==typeof this.options.classHandler)var e=this.options.classHandler.call(this,this);return"undefined"!=typeof e&&e.length?e:this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var e;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(t(this.options.errorsContainer).length)return t(this.options.errorsContainer).append(this._ui.$errorsWrapper);d.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(e=this.options.errorsContainer.call(this,this));return"undefined"!=typeof e&&e.length?e.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var t,e=this,n=this._findRelated();n.off(".Parsley"),this._failedOnce?n.on(d.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){e._validateIfNeeded()}):(t=d.namespaceEvents(this.options.trigger,"Parsley"))&&n.on(t,function(t){e._validateIfNeeded(t)})},_validateIfNeeded:function(t){var e=this;t&&/key|input/.test(t.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return e.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);
}};var E=function(e,n,i){this.__class__="Form",this.element=e,this.$element=t(e),this.domOptions=n,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},O={pending:null,resolved:!0,rejected:!1};E.prototype={onSubmitValidate:function(t){var e=this;if(!0!==t.parsley){var n=this._submitSource||this.$element.find(d._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!n||null===n.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var i=this.whenValidate({event:t});"resolved"===i.state()&&!1!==this._trigger("submit")||(t.stopImmediatePropagation(),t.preventDefault(),"pending"===i.state()&&i.done(function(){e._submit(n)}))}}},onSubmitButton:function(t){this._submitSource=t.currentTarget},_submit:function(e){if(!1!==this._trigger("submit")){if(e){var n=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===n.length&&(n=t('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),n.attr({name:e.getAttribute("name"),value:e.getAttribute("value")})}this.$element.trigger(o(t.Event("submit"),{parsley:!0}))}},validate:function(e){if(arguments.length>=1&&!t.isPlainObject(e)){d.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var n=r.call(arguments),i=n[0],s=n[1],o=n[2];e={group:i,force:s,event:o}}return O[this.whenValidate(e).state()]},whenValidate:function(){var e,n=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s=r.group,a=r.force,l=r.event;this.submitEvent=l,l&&(this.submitEvent=o({},l,{preventDefault:function(){d.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),n.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var u=this._withoutReactualizingFormOptions(function(){return t.map(n.fields,function(t){return t.whenValidate({force:a,group:s})})});return(e=d.all(u).done(function(){n._trigger("success")}).fail(function(){n.validationResult=!1,n.focus(),n._trigger("error")}).always(function(){n._trigger("validated")})).pipe.apply(e,i(this._pipeAccordingToValidationResult()))},isValid:function(e){if(arguments.length>=1&&!t.isPlainObject(e)){d.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var n=r.call(arguments),i=n[0],s=n[1];e={group:i,force:s}}return O[this.whenValid(e).state()]},whenValid:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.group,r=n.force;this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return t.map(e.fields,function(t){return t.whenValid({group:i,force:r})})});return d.all(s)},reset:function(){for(var t=0;t<this.fields.length;t++)this.fields[t].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this,n=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){e.$element.find(e.options.inputs).not(e.options.excluded).each(function(t,n){var i=new window.Parsley.Factory(n,{},e);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var r=i.__class__+"-"+i.__id__;"undefined"==typeof e.fieldsMappedById[r]&&(e.fieldsMappedById[r]=i,e.fields.push(i))}}),t.each(d.difference(n,e.fields),function(t,e){e.reset()})}),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=t();return this.actualizeOptions=e,n},_trigger:function(t){return this.trigger("form:"+t)}};var F=function(t,e,n,i,r){var s=window.Parsley._validatorRegistry.validators[e],a=new m(s);i=i||t.options[e+"Priority"]||a.priority,r=!0===r,o(this,{validator:a,name:e,requirements:n,priority:i,isDomConstraint:r}),this._parseRequirements(t.options)},T=function(t){var e=t[0].toUpperCase();return e+t.slice(1)};F.prototype={validate:function(t,e){var n;return(n=this.validator).validate.apply(n,[t].concat(i(this.requirementList),[e]))},_parseRequirements:function(t){var e=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(n){return t[e.name+T(n)]})}};var A=function(e,n,i,r){this.__class__="Field",this.element=e,this.$element=t(e),"undefined"!=typeof r&&(this.parent=r),this.options=i,this.domOptions=n,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},S={pending:null,resolved:!0,rejected:!1};A.prototype={validate:function(e){arguments.length>=1&&!t.isPlainObject(e)&&(d.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),e={options:e});var n=this.whenValidate(e);if(!n)return!0;switch(n.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var t,e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.force,s=n.group;if(this.refreshConstraints(),!s||this._isInGroup(s))return this.value=this.getValue(),this._trigger("validate"),(t=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){e._reflowUI()}).done(function(){e._trigger("success")}).fail(function(){e._trigger("error")}).always(function(){e._trigger("validated")})).pipe.apply(t,i(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return"undefined"==typeof t&&(t=this.getValue()),!(!t.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty)},_isInGroup:function(e){return Array.isArray(this.options.group)?-1!==t.inArray(e,this.options.group):this.options.group===e},isValid:function(e){if(arguments.length>=1&&!t.isPlainObject(e)){d.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var n=r.call(arguments),i=n[0],s=n[1];e={force:i,value:s}}var o=this.whenValid(e);return!o||S[o.state()]},whenValid:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.force,r=void 0!==i&&i,s=n.value,o=n.group,a=n._refreshed;if(a||this.refreshConstraints(),!o||this._isInGroup(o)){if(this.validationResult=!0,!this.hasConstraints())return t.when();if("undefined"!=typeof s&&null!==s||(s=this.getValue()),!this.needsValidation(s)&&!0!==r)return t.when();var l=this._getGroupedConstraints(),u=[];return t.each(l,function(n,i){var r=d.all(t.map(i,function(t){return e._validateConstraint(s,t)}));if(u.push(r),"rejected"===r.state())return!1}),d.all(u)}},_validateConstraint:function(e,n){var i=this,r=n.validate(e,this);return!1===r&&(r=t.Deferred().reject()),d.all([r]).fail(function(t){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:n,errorMessage:"string"==typeof t&&t})})},getValue:function(){var t;return t="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":this._handleWhitespace(t)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(window.Parsley._validatorRegistry.validators[t]){var r=new F(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(t.push(this.constraints[n]),e[this.constraints[n].name]=this.constraints[n]);this.constraints=t,this.constraintsByName=e;for(var i in this.options)this.addConstraint(i,this.options[i],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var t=this.element.getAttribute("min"),e=this.element.getAttribute("max");null!==t&&null!==e?this.addConstraint("range",[t,e],void 0,!0):null!==t?this.addConstraint("min",t,void 0,!0):null!==e&&this.addConstraint("max",e,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var n=this.element.type;return"number"===n?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:t||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(t){return this.trigger("field:"+t)},_handleWhitespace:function(t){return!0===this.options.trimValue&&d.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(t=d.trimString(t)),t},_isDateInput:function(){var t=this.constraintsByName.type;return t&&"date"===t.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},n=0;n<this.constraints.length;n++){var i=this.constraints[n].priority;e[i]||t.push(e[i]=[]),e[i].push(this.constraints[n])}return t.sort(function(t,e){return e[0].priority-t[0].priority}),t}};var D=A,I=function(){this.__class__="FieldMultiple"};I.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var e;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(t("html").has(this.$elements[n]).length){e=this.$elements[n].data("FieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){if("radio"===this.element.type)return this._findRelated().filter(":checked").val()||"";if("checkbox"===this.element.type){var e=[];return this._findRelated().filter(":checked").each(function(){e.push(t(this).val())}),e}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var k=function(e,n,i){this.element=e,this.$element=t(e);var r=this.$element.data("Parsley");if(r)return"undefined"!=typeof i&&r.parent===window.Parsley&&(r.parent=i,r._resetOptions(r.options)),"object"==typeof n&&o(r.options,n),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(n)};k.prototype={init:function(t){return this.__class__="Parsley",this.__version__="2.7.2",this.__id__=d.generateID(),this._resetOptions(t),"FORM"===this.element.nodeName||d.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return"radio"===this.element.type||"checkbox"===this.element.type||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var e,n,i=this;if(this.options.multiple=this.options.multiple||(e=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return d.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),e&&t('input[name="'+e+'"]').each(function(t,e){"radio"!==e.type&&"checkbox"!==e.type||e.setAttribute(i.options.namespace+"multiple",i.options.multiple)});for(var r=this._findRelated(),s=0;s<r.length;s++)if(n=t(r.get(s)).data("Parsley"),"undefined"!=typeof n){this.$element.data("FieldMultiple")||n.addElement(this.$element);break}return this.bind("parsleyField",!0),n||this.bind("parsleyFieldMultiple")},bind:function(e,n){var i;switch(e){case"parsleyForm":i=t.extend(new E(this.element,this.domOptions,this.options),new h,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=t.extend(new D(this.element,this.domOptions,this.options,this.parent),new h,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=t.extend(new D(this.element,this.domOptions,this.options,this.parent),new I,new h,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&d.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof n?(this.$element.data("FieldMultiple",i),i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init"),i)}};var P=t.fn.jquery.split(".");if(parseInt(P[0])<=1&&parseInt(P[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";P.forEach||d.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var z=o(new h,{element:document,$element:t(document),actualizeOptions:null,_resetOptions:null,Factory:k,version:"2.7.2"});o(D.prototype,$.Field,h.prototype),o(E.prototype,$.Form,h.prototype),o(k.prototype,h.prototype),t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new k(this[0],e):void d.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),z.options=o(d.objectCreate(p),window.ParsleyConfig),window.ParsleyConfig=z.options,window.Parsley=window.psly=z,z.Utils=d,window.ParsleyUtils={},t.each(d,function(t,e){"function"==typeof e&&(window.ParsleyUtils[t]=function(){return d.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),d[t].apply(d,arguments)})});var M=window.Parsley._validatorRegistry=new v(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},t.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(t,e){window.Parsley[e]=function(){return M[e].apply(M,arguments)},window.ParsleyValidator[e]=function(){var t;return d.warnOnce("Accessing the method '"+e+"' through Validator is deprecated. Simply call 'window.Parsley."+e+"(...)'"),(t=window.Parsley)[e].apply(t,arguments)}}),window.Parsley.UI=$,window.ParsleyUI={removeError:function(t,e,n){var i=!0!==n;return d.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t.removeError(e,{updateClass:i})},getErrorsMessages:function(t){return d.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),t.getErrorsMessages()}},t.each("addError updateError".split(" "),function(t,e){window.ParsleyUI[e]=function(t,n,i,r,s){var o=!0!==s;return d.warnOnce("Accessing UI is deprecated. Call '"+e+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t[e](n,{message:i,assert:r,updateClass:o})}}),!1!==window.ParsleyConfig.autoBind&&t(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()});var R=t({}),q=function(){d.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},N="parsley:";t.listen=function(t,e){var i;if(q(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(i=arguments[1],e=arguments[2]),"function"!=typeof e)throw new Error("Wrong parameters");window.Parsley.on(a(t),n(e,i))},t.listenTo=function(t,e,i){if(q(),!(t instanceof D||t instanceof E))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");t.on(a(e),n(i))},t.unsubscribe=function(t,e){if(q(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(a(t),e.parsleyAdaptedCallback)},t.unsubscribeTo=function(t,e){if(q(),!(t instanceof D||t instanceof E))throw new Error("Must give Parsley instance");t.off(a(e))},t.unsubscribeAll=function(e){q(),window.Parsley.off(a(e)),t("form,input,textarea,select").each(function(){var n=t(this).data("Parsley");n&&n.off(a(e))})},t.emit=function(t,e){var n;q();var r=e instanceof D||e instanceof E,s=Array.prototype.slice.call(arguments,r?2:1);s.unshift(a(t)),r||(e=window.Parsley),(n=e).trigger.apply(n,i(s))};t.extend(!0,z,{asyncValidators:{"default":{fn:function(t){return t.status>=200&&t.status<300},url:!1},reverse:{fn:function(t){return t.status<200||t.status>=300},url:!1}},addAsyncValidator:function(t,e,n,i){return z.asyncValidators[t]={fn:e,url:n||!1,options:i||{}},this}}),z.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(e,n,i,r){var s,o,a={},l=i.validator||(!0===i.reverse?"reverse":"default");if("undefined"==typeof z.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");n=z.asyncValidators[l].url||n,n.indexOf("{value}")>-1?n=n.replace("{value}",encodeURIComponent(e)):a[r.element.getAttribute("name")||r.element.getAttribute("id")]=e;var u=t.extend(!0,i.options||{},z.asyncValidators[l].options);s=t.extend(!0,{},{url:n,data:a,type:"GET"},u),r.trigger("field:ajaxoptions",r,s),o=t.param(s),"undefined"==typeof z._remoteCache&&(z._remoteCache={});var c=z._remoteCache[o]=z._remoteCache[o]||t.ajax(s),d=function(){var e=z.asyncValidators[l].fn.call(r,c,n,i);return e||(e=t.Deferred().reject()),t.when(e)};return c.then(d,d)},priority:-1}),z.on("form:submit",function(){z._remoteCache={}}),h.prototype.addAsyncValidator=function(){return d.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),z.addAsyncValidator.apply(z,arguments)},z.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),z.setLocale("en");var V=new l;V.install();var j=z;return j})}).call(e,function(){return this}())},function(t,e){Parsley.addMessages("zh-cn",{defaultMessage:"\u4e0d\u6b63\u786e\u7684\u503c",type:{email:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6709\u6548\u7684\u7535\u5b50\u90ae\u7bb1\u5730\u5740",url:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6709\u6548\u7684\u94fe\u63a5",number:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57",integer:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6574\u6570",digits:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u53f7\u7801",alphanum:"\u8bf7\u8f93\u5165\u5b57\u6bcd\u6216\u6570\u5b57"},notblank:"\u8bf7\u8f93\u5165\u503c",required:"\u5fc5\u586b\u9879",pattern:"\u683c\u5f0f\u4e0d\u6b63\u786e",min:"\u8f93\u5165\u503c\u8bf7\u5927\u4e8e\u6216\u7b49\u4e8e %s",max:"\u8f93\u5165\u503c\u8bf7\u5c0f\u4e8e\u6216\u7b49\u4e8e %s",range:"\u8f93\u5165\u503c\u5e94\u8be5\u5728 %s \u5230 %s \u4e4b\u95f4",minlength:"\u8bf7\u8f93\u5165\u81f3\u5c11 %s \u4e2a\u5b57\u7b26",maxlength:"\u8bf7\u8f93\u5165\u81f3\u591a %s \u4e2a\u5b57\u7b26",length:"\u5b57\u7b26\u957f\u5ea6\u5e94\u8be5\u5728 %s \u5230 %s \u4e4b\u95f4",mincheck:"\u8bf7\u81f3\u5c11\u9009\u62e9 %s \u4e2a\u9009\u9879",maxcheck:"\u8bf7\u9009\u62e9\u4e0d\u8d85\u8fc7 %s \u4e2a\u9009\u9879",check:"\u8bf7\u9009\u62e9 %s \u5230 %s \u4e2a\u9009\u9879",equalto:"\u8f93\u5165\u503c\u4e0d\u540c"}),Parsley.setLocale("zh-cn")},function(t,e){Parsley.addMessages("zh-cn",{dateiso:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u65e5\u671f (YYYY-MM-DD)."})},function(t,e){!function(e,n){var i=n(e,e.document);e.lazySizes=i,"object"==typeof t&&t.exports&&(t.exports=i)}(window,function(t,e){"use strict";if(e.getElementsByClassName){var n,i,r=e.documentElement,s=t.Date,o=t.HTMLPictureElement,a="addEventListener",l="getAttribute",u=t[a],c=t.setTimeout,d=t.requestAnimationFrame||c,p=t.requestIdleCallback,h=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g={},m=Array.prototype.forEach,v=function(t,e){return g[e]||(g[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),g[e].test(t[l]("class")||"")&&g[e]},y=function(t,e){v(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},w=function(t,e){var n;(n=v(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(n," "))},b=function(t,e,n){var i=n?a:"removeEventListener";n&&b(t,e),f.forEach(function(n){t[i](n,e)})},C=function(t,i,r,s,o){var a=e.createEvent("CustomEvent");return r||(r={}),r.instance=n,a.initCustomEvent(i,!s,!o,r),t.dispatchEvent(a),a},_=function(e,n){var r;!o&&(r=t.picturefill||i.pf)?r({reevaluate:!0,elements:[e]}):n&&n.src&&(e.src=n.src)},$=function(t,e){return(getComputedStyle(t,null)||{})[e]},x=function(t,e,n){for(n=n||t.offsetWidth;n<i.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},E=function(){var t,n,i=[],r=[],s=i,o=function(){var e=s;for(s=i.length?r:i,t=!0,n=!1;e.length;)e.shift()();t=!1},a=function(i,r){t&&!r?i.apply(this,arguments):(s.push(i),n||(n=!0,(e.hidden?c:d)(o)))};return a._lsFlush=o,a}(),O=function(t,e){return e?function(){E(t)}:function(){var e=this,n=arguments;E(function(){t.apply(e,n)})}},F=function(t){var e,n=0,i=125,r=666,o=r,a=function(){e=!1,n=s.now(),t()},l=p?function(){p(a,{timeout:o}),o!==r&&(o=r)}:O(function(){c(a)},!0);return function(t){var r;(t=t===!0)&&(o=44),e||(e=!0,r=i-(s.now()-n),0>r&&(r=0),t||9>r&&p?l():c(l,r))}},T=function(t){var e,n,i=99,r=function(){e=null,t()},o=function(){var t=s.now()-n;i>t?c(o,i-t):(p||r)(r)};return function(){n=s.now(),e||(e=c(o,i))}},A=function(){var o,d,p,f,g,x,A,D,I,k,P,z,M,R,q=/^img$/i,N=/^iframe$/i,V="onscroll"in t&&!/glebot/.test(navigator.userAgent),j=0,L=0,W=0,H=-1,U=function(t){W--,t&&t.target&&b(t.target,U),(!t||0>W||!t.target)&&(W=0)},B=function(t,n){var i,s=t,o="hidden"==$(e.body,"visibility")||"hidden"!=$(t,"visibility");for(D-=n,P+=n,I-=n,k+=n;o&&(s=s.offsetParent)&&s!=e.body&&s!=r;)o=($(s,"opacity")||1)>0,o&&"visible"!=$(s,"overflow")&&(i=s.getBoundingClientRect(),o=k>i.left&&I<i.right&&P>i.top-1&&D<i.bottom+1);return o},Y=function(){var t,s,a,u,c,p,h,g,m,v=n.elements;if((f=i.loadMode)&&8>W&&(t=v.length)){s=0,H++,null==M&&("expand"in i||(i.expand=r.clientHeight>500&&r.clientWidth>500?500:370),z=i.expand,M=z*i.expFactor),M>L&&1>W&&H>2&&f>2&&!e.hidden?(L=M,H=0):L=f>1&&H>1&&6>W?z:j;for(;t>s;s++)if(v[s]&&!v[s]._lazyRace)if(V)if((g=v[s][l]("data-expand"))&&(p=1*g)||(p=L),m!==p&&(x=innerWidth+p*R,A=innerHeight+p,h=-1*p,m=p),a=v[s].getBoundingClientRect(),(P=a.bottom)>=h&&(D=a.top)<=A&&(k=a.right)>=h*R&&(I=a.left)<=x&&(P||k||I||D)&&(i.loadHidden||"hidden"!=$(v[s],"visibility"))&&(d&&3>W&&!g&&(3>f||4>H)||B(v[s],p))){if(et(v[s]),c=!0,W>9)break}else!c&&d&&!u&&4>W&&4>H&&f>2&&(o[0]||i.preloadAfterLoad)&&(o[0]||!g&&(P||k||I||D||"auto"!=v[s][l](i.sizesAttr)))&&(u=o[0]||v[s]);else et(v[s]);u&&!c&&et(u)}},K=F(Y),X=function(t){y(t.target,i.loadedClass),w(t.target,i.loadingClass),b(t.target,Q),C(t.target,"lazyloaded")},G=O(X),Q=function(t){G({target:t.target})},Z=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},J=function(t){var e,n=t[l](i.srcsetAttr);(e=i.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},tt=O(function(t,e,n,r,s){var o,a,u,d,f,g;(f=C(t,"lazybeforeunveil",e)).defaultPrevented||(r&&(n?y(t,i.autosizesClass):t.setAttribute("sizes",r)),a=t[l](i.srcsetAttr),o=t[l](i.srcAttr),s&&(u=t.parentNode,d=u&&h.test(u.nodeName||"")),g=e.firesLoad||"src"in t&&(a||o||d),f={target:t},g&&(b(t,U,!0),clearTimeout(p),p=c(U,2500),y(t,i.loadingClass),b(t,Q,!0)),d&&m.call(u.getElementsByTagName("source"),J),a?t.setAttribute("srcset",a):o&&!d&&(N.test(t.nodeName)?Z(t,o):t.src=o),s&&(a||d)&&_(t,{src:o})),t._lazyRace&&delete t._lazyRace,w(t,i.lazyClass),E(function(){(!g||t.complete&&t.naturalWidth>1)&&(g?U(f):W--,X(f))},!0)}),et=function(t){var e,n=q.test(t.nodeName),r=n&&(t[l](i.sizesAttr)||t[l]("sizes")),s="auto"==r;(!s&&d||!n||!t[l]("src")&&!t.srcset||t.complete||v(t,i.errorClass))&&(e=C(t,"lazyunveilread").detail,s&&S.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,W++,tt(t,e,s,r,n))},nt=function(){if(!d){if(s.now()-g<999)return void c(nt,999);var t=T(function(){i.loadMode=3,K()});d=!0,i.loadMode=3,K(),u("scroll",function(){3==i.loadMode&&(i.loadMode=2),t()},!0)}};return{_:function(){g=s.now(),n.elements=e.getElementsByClassName(i.lazyClass),o=e.getElementsByClassName(i.lazyClass+" "+i.preloadClass),R=i.hFac,u("scroll",K,!0),u("resize",K,!0),t.MutationObserver?new MutationObserver(K).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",K,!0),r[a]("DOMAttrModified",K,!0),setInterval(K,999)),u("hashchange",K,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e[a](t,K,!0)}),/d$|^c/.test(e.readyState)?nt():(u("load",nt),e[a]("DOMContentLoaded",K),c(nt,2e4)),n.elements.length?(Y(),E._lsFlush()):K()},checkElems:K,unveil:et}}(),S=function(){var t,n=O(function(t,e,n,i){var r,s,o;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),h.test(e.nodeName||""))for(r=e.getElementsByTagName("source"),s=0,o=r.length;o>s;s++)r[s].setAttribute("sizes",i);n.detail.dataAttr||_(t,n.detail)}),r=function(t,e,i){var r,s=t.parentNode;s&&(i=x(t,s,i),r=C(t,"lazybeforesizes",{width:i,dataAttr:!!e}),r.defaultPrevented||(i=r.detail.width,i&&i!==t._lazysizesWidth&&n(t,s,r,i)))},s=function(){var e,n=t.length;if(n)for(e=0;n>e;e++)r(t[e])},o=T(s);return{_:function(){t=e.getElementsByClassName(i.autosizesClass),u("resize",o)},checkElems:o,updateElem:r}}(),D=function(){D.i||(D.i=!0,S._(),A._())};return function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};i=t.lazySizesConfig||t.lazysizesConfig||{};for(e in n)e in i||(i[e]=n[e]);t.lazySizesConfig=i,c(function(){i.init&&D()})}(),n={cfg:i,autoSizer:S,loader:A,init:D,uP:_,aC:y,rC:w,hC:v,fire:C,gW:x,rAF:E}}})}])});